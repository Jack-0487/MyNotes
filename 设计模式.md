#  设计模式

## 深入理解面向对象

- 底层思维：向下深入理解三大面向对象机制
  - 封装，隐藏内部实现
  - 继承：复用现有代码
  - 多态：改写对象行为
- 抽象思维：向上；
- 软件设计复杂的根本原因是变化、
- 抽象：由于不能掌握全部的复杂对象，忽视非本质的细节而去处理泛化和理想化了的对象模型
- 现代软件设计的特征是需求的频繁变化；设计模式的要点是寻找变化点，然后在变化点处应用设计模式

## 面向对象设计原则

- 变化是复用的天敌，面向对象可以抵御变化

- 面向对象的构建方式更能适应软件的变化，可以将变化所带来的影响降为最小

- 从语言层面来看，对象封装了代码和数据；从规格层面，对象是一系列可被使用的公共接口；从概念层面，对象是某种拥有责任的抽象

- **面向对象的设计原则**

  - 依赖倒置原则（DIP）
    - 高层模块（稳定）不应该依赖于低层模块（变化），二者都应该依赖于抽象
    - 抽象（稳定）不应该依赖于实现细节（变化），实现细节应该依赖于抽象

  - 开放封闭原则（OCP）
    - 对扩展开放，对更改封闭
    - 类模块应该是可扩展的，但是不可修改
  - 单一职责原则（SRP）
    - 一个类应该仅有一个引起它变化的原因
    - 变化方向隐含着类的责任
  - Liskov替换原则（LSP）
    - 子类必须能够替换他们的基类
    - 继承表达类型抽象
  - 接口隔离原则（ISP）
    - 不应该强迫客户程序以来他们不用的方法
    - 接口应该小而完备
  - 优先使用对象组合，而不是类继承
    - 继承在某种程度上破坏了封装性，子类父类耦合度高
    - 而对象组合则只要求被组合的对象具有良好定义的接口，耦合度低
  - 封装变化点
    - ==使用封装来创建对象之间的分界层，使得设计者可以在分界层的一侧进行修改，而不会对另一侧产生不良的影响==
    - 针对接口编程，而不是针对实现编程
      - 不将变量类型声明为某个特定的具体类，而是声明为某个接口
      - 客户程序无需获知对象的具体类型，只需要知道对象所具有的接口
      - 减少系统中各部分的依赖关系，实现高内聚，松耦合的设计方案

## 模板方法

- 模板方法是非常基础的设计模式，为应用程序框架提供了灵活的扩展点（继承和多态）
- 组件写作模式通过晚期绑定，来实现框架与应用程序之间的松耦合
- 定义一个操作中的算法骨架（稳定），而将一些步骤延迟（变化）到子类中，模板方法使得子类可以复用一个算法的结构即可重定义（重写）该算法的某些特定步骤
- 利用虚函数多态调用实现；函数指针也是晚绑定
- 稳定的代码不要写成虚函数，改变的代码写成虚函数

## 策略模式

- 定义一系列算法，把他们一个个封装起来，并且使他们可以互相替换（变化），该模式使得算法可独立于使用它的客户程序（稳定）而变化（扩展，子类化）

## 观察者模式（observe/event）

